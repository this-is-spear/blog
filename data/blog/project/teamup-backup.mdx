---
title: 팀업 백업 서비스 회고
date: '2023-10-30'
tags: ['프로젝트', '회고']
draft: true
summary: 팀업 백업 서비스 구현부터 운영까지
images: []
---

## Introduction

<TOCInline toc={props.toc} exclude="Introduction" />

## feature

개요

- 백업을 신청한 회원의 백업을 진행하는 역할을 맡게 됨
- 사용자들의 백업을 배치를 활용해 유연하게 풀어나감

발생한 문제

- 메모리에 데이터를 적재할 수 있도록 작업 플로우를 변경해 IO 발생 횟수를 줄여봤음
- 슬로우 쿼리로 인해 실행 시간이 떨어지던 이슈들도 만났음

깨달음

- 실행 시간 점유율 순서대로 각 작업의 개선 효과가 비례함을 꺠달음. 개선할 때 점유율을 고려할 필요가 있음.
- 최악의 실행 시간을 감정적 추리에 맡겨서 슬로우 쿼리를 생성함. 쿼리를 작성하거나 튜닝 할 때 객관적인 지표를 활용할 필요가 있음.

## qa

개요

발생한 문제

- 정책과 다른 부분들에 대해서 피드백이 많았음
- 정책을 제대로 이해하지 못한 점을 반성하게 됨
- qa 과정에서 소프트웨어 테스팅 책을 읽게 됐는데, 명세 기반 테스트의 중요성을 체감하게 됨. 난 단순하게 코드만 검증하는 테스터였을 뿐임.
- 배포가 얼마 남지 않은 시점에서 qa 분의 기능 개선을 요구했음. 사용자 편의성을 중시하기 때문에 요구사항 개선 요청을 수락했음. 그런데 나는 사용자 편의성을 중시하는 것보다 시스템 안정성을 고려해야 하는 포지션이 아닌가를 고민했음.

## management

- `Out of heap memory` 이슈를 만났음
- `Batch provider`에서 발생하는 `BadSqlException`도 존재했음

## 회고

- 키 밸류 스토리지로 레디스를 활용함
    - [RocksDB](https://d2.naver.com/helloworld/5053838)를 사용했으면 어땠을까...
    - 영상이 두 달 전에 올라왔으면 사용 했을 텐데 아쉬움

- `코드 말고 정책으로 해결하자`는 의미를 이해하게 됨
    - 나는 가치를 전달하는 사람임. 가치를 빠르고 높게 전달하기 위해서는 어떤 방법이 좋은지 고민해야 함.
    - 그래도 코드한테 지는 기분은 어쩔 수 없나봄. 내가 코드로 문제를 해결하지 못한 것 같은 느낌이라 그런 듯 함.

